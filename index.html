<!DOCTYPE html>
<html>
<head>
    <title>CÃ¼zdan Takip</title>
    <style>
        /* 1. GENEL AYARLAR (Tuval HazÄ±rlÄ±ÄŸÄ±) */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Modern YazÄ± Tipi */
            background: linear-gradient(135deg, #74ebd5, #ACB6E5); /* Renk GeÃ§iÅŸli Arka Plan */
            height: 100vh; /* TÃ¼m ekranÄ± kapla */
            margin: 0;
            display: flex;
            justify-content: center; /* Yatayda Ortala */
            align-items: center; /* Dikeyde Ortala */
        }

        /* 2. ANA KASA (Uygulama Kutusu) */
        .kasa { 
            background: rgba(255, 255, 255, 0.9); /* Hafif Åžeffaf Beyaz */
            width: 380px; 
            padding: 30px; 
            border-radius: 20px; /* KenarlarÄ± Yuvarlat */
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); /* 3D GÃ¶lge Efekti */
            backdrop-filter: blur(10px); /* Buzlu Cam Efekti */
        }

        h2 { 
            text-align: center; 
            color: #444; 
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        /* 3. BAKÄ°YE KUTUSU (YeÅŸil Alan) */
        .bakiye-kutu { 
            background: linear-gradient(to right, #11998e, #38ef7d); /* YeÅŸil GeÃ§iÅŸ */
            color: white; 
            padding: 25px; 
            text-align: center; 
            border-radius: 15px; 
            margin-bottom: 25px; 
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4); /* YeÅŸil GÃ¶lge */
        }
        .bakiye-sayi { 
            font-size: 40px; 
            font-weight: bold; 
            margin-top: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        /* 4. GÄ°RÄ°Åž ALANLARI (Inputlar) */
        .giris-grubu { 
            display: flex; /* Yan yana dizmek iÃ§in */
            gap: 10px; /* Aradaki boÅŸluk */
            margin-bottom: 15px; 
        }
        
        input { 
            padding: 12px; 
            border: 2px solid #eee; /* Ä°nce gri Ã§erÃ§eve */
            border-radius: 10px; 
            width: 100%; 
            outline: none; /* TÄ±klayÄ±nca Ã§Ä±kan mavi Ã§izgiyi kaldÄ±r */
            transition: 0.3s; /* Animasyonlu geÃ§iÅŸ */
        }
        select {
            padding: 12px; 
            border: 2px solid #eee; /* Ä°nce gri Ã§erÃ§eve */
            border-radius: 10px;
            background: white;
           cursor: pointer;
           outline: none;
           font-weight: bold;
        }

        .gelir-madde {
            border-left: 5px solid #2ecc71 !important;
        }
        .gider-madde {
            border-left: 5px solid #ff4757 !important;
        }
        /* TÄ±klayÄ±nca Ã§erÃ§eve renk deÄŸiÅŸtirsin */
        input:focus {
            border-color: #38ef7d;
        }
        
        /* 5. EKLE BUTONU */
        #ekleBtn { 
            width: 100%; 
            padding: 15px; 
            background-color: #333; 
            color: white; 
            border: none; 
            border-radius: 10px; 
            cursor: pointer; 
            font-size: 16px; 
            font-weight: bold;
            transition: transform 0.1s; /* BasÄ±nca kÃ¼Ã§Ã¼lme efekti iÃ§in */
        }
        
        #ekleBtn:hover { 
            background-color: #555; /* ÃœstÃ¼ne gelince rengi aÃ§ */
        }

        #ekleBtn:active {
            transform: scale(0.98); /* TÄ±klayÄ±nca hafifÃ§e iÃ§e gÃ¶Ã§sÃ¼n */
        }

        /* 6. LÄ°STE (Harcamalar) */
        #harcamaListesi { 
            margin-top: 25px; 
            list-style: none; /* Madde iÅŸaretlerini kaldÄ±r */
            padding: 0; 
            max-height: 200px; /* Liste Ã§ok uzarsa... */
            overflow-y: auto; /* ...kaydÄ±rma Ã§ubuÄŸu Ã§Ä±ksÄ±n */
        }

        #harcamaListesi li { 
            background: white; 
            border-left: 5px solid #ff6b6b; /* Sol tarafa kÄ±rmÄ±zÄ± Ã§izgi */
            margin-bottom: 10px; 
            padding: 15px; 
            border-radius: 8px;
            display: flex; 
            justify-content: space-between; /* YazÄ±yÄ± sola, fiyatÄ± saÄŸa it */
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            font-weight: 500;
        }
            .silBtn { 
            background-color:#ff4757;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
            font-size: 12px;
        }

           .silBtn:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>

    <div class="kasa">
        <h2>ðŸ’° CÃ¼zdanÄ±m</h2>

        <div class="bakiye-kutu">
            <div>Toplam Harcama</div>
            <div class="bakiye-sayi" id="toplamTutar">0 TL</div>
        </div>

        <div class="giris-grubu">
            <select id="turSecimi">
                <option value="gider">Gider (-)</option>
                <option value="gelir">Gelir (+)</option>
            </select>
            <input type="text" id="harcamaAdi" placeholder="AÃ§Ä±klama (Ã–rn: MaaÅŸ)">
            <input type="number" id="harcamaFiyat" placeholder="Tutar">
        </div>

        <button id="ekleBtn">Harcama Ekle</button>

        <ul id="harcamaListesi">
            </ul>
    </div>

    <script>
            const adInput = document.getElementById('harcamaAdi');
            const fiyatInput = document.getElementById('harcamaFiyat');
            const turSecimi = document.getElementById('turSecimi');
            const ekleBtn = document.getElementById('ekleBtn');
            const harcamaListesi = document.getElementById('harcamaListesi');
            const toplamTutar = document.getElementById('toplamTutar');

             let harcamaDizisi = JSON.parse(localStorage.getItem('harcamalarim')) || [];

             function listeyiEkranaBas() {
                let toplamPara = 0;
                harcamaListesi.innerHTML = '';

                harcamaDizisi.forEach(function(harcama, sira) {

                if (harcama.tur === 'gelir') {
                    toplamPara = toplamPara + harcama.fiyat;  

                } else {
                    toplamPara = toplamPara - harcama.fiyat;
                }

                const yeniMadde = document.createElement('li');
                let isaret = "-";
                if (harcama.tur === "gelir") {
                  isaret = "+"; 
                }
                yeniMadde.innerText = harcama.ad + " " + isaret + " " + harcama.fiyat + " TL";
                if (harcama.tur === 'gelir') {
                    yeniMadde.classList.add('gelir-madde');
                } else {
                    yeniMadde.classList.add('gider-madde');
                }           

                const silBtn = document.createElement('button');
                silBtn.innerText = 'Sil';
                silBtn.classList.add('silBtn');
            
                

                silBtn.addEventListener('click', function() {
                    harcamaDizisi.splice(sira, 1);
                    localStorage.setItem('harcamalarim', JSON.stringify(harcamaDizisi));
                    listeyiEkranaBas();
                });

                yeniMadde.appendChild(silBtn); 
                harcamaListesi.appendChild(yeniMadde);
                });

                toplamTutar.innerText = toplamPara + ' TL'; 
                localStorage.setItem("cuzdanbakiyesi", toplamPara);

                }

                listeyiEkranaBas();

                    const yeniVeri ={
                        tur: turSecimi.value,
                        ad: adInput.value,
                        fiyat: Number(fiyatInput.value)
                    };

                    harcamaDizisi.push(yeniVeri);
                    localStorage.setItem('harcamalarim', JSON.stringify(harcamaDizisi));
                    listeyiEkranaBas();

                    adInput.value = '';
                    fiyatInput.value = '';

    ekleBtn.addEventListener("click", function() {
        
        // 1. ElemanlarÄ± o an, taze taze bulalÄ±m (Hata riskini bitirir)
        const secilenTur = document.getElementById("turSecimi").value;
        const girilenAd = document.getElementById("harcamaAdi").value;
        const girilenFiyat = document.getElementById("harcamaFiyat").value;

        // 2. GÃ¼venlik KontrolÃ¼: BoÅŸsa iÅŸlem yapma!
        if (girilenAd === "" || girilenFiyat === "") {
            alert("LÃ¼tfen boÅŸ alanlarÄ± doldurun!");
            return; // Robotu durdur
        }

        // 3. Paketleme
        const yeniVeri = { 
            tur: secilenTur, 
            ad: girilenAd, 
            fiyat: Number(girilenFiyat)
        };

        // 4. KayÄ±t ve Temizlik
        harcamaDizisi.push(yeniVeri);
        localStorage.setItem("harcamalarim", JSON.stringify(harcamaDizisi));
        
        listeyiEkranaBas(); // Listeyi gÃ¼ncelle

        // KutularÄ± boÅŸalt
        document.getElementById("harcamaAdi").value = "";
        document.getElementById("harcamaFiyat").value = "";
    });

</script>       
</html>